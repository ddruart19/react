(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{7833:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return t(7261)}])},7261:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r=t(5893),i=t(7294),s=t(603),a=t(7014),l=t(2491),c=t(3639),o=t(1664),u=t.n(o),d=t(8767),f=function(e){var n=e.task;e.completeTask;var t=(0,s.Z)((0,i.useState)(n.completed),2);t[0],t[1];var o=(0,d.useQueryClient)(),f=(0,d.useMutation)(l._5,{onSuccess:function(){o.invalidateQueries("todoList")}}),h=(0,d.useMutation)(l.xJ,{onSuccess:function(){o.invalidateQueries("todoList")}}),x=function(){var e={id:n.id,name:n.name,completed:!n.completed,date:n.date};h.mutate(e)},m=function(e){window.confirm("Are you sure you want to delete "+e.name+"?")&&f.mutate(String(e.id))};return(0,r.jsxs)(a.iA.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsx)(a.iA.Cell,{className:"!p-4",children:(0,r.jsx)("input",{type:"checkbox",checked:n.completed,onChange:function(e){x()}})}),(0,r.jsx)(a.iA.Cell,{children:n.name}),(0,r.jsx)(a.iA.Cell,{children:(0,c.LM)(n.date)}),(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(u(),{href:"/edit/"+n.id,className:"font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Edit"})}),(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(u(),{href:"",style:{color:"red"},className:"font-medium text-blue-600 hover:underline dark:text-blue-500",onClick:function(){return m(n)},children:"Delete"})})]})},h=function(){var e=function(e,n){},n=(0,s.Z)((0,i.useState)(""),2),t=n[0],o=n[1],u=(0,s.Z)((0,i.useState)(void 0),2),d=u[0],h=u[1],x=(0,c.zO)(),m=function(){(0,l.kY)(t).then(function(e){h(e)})};return"loading"===x.status?(0,r.jsx)("span",{children:"Loading..."}):"error"===x.status?(0,r.jsxs)("span",{children:["Error: ",x.error.message]}):(0,r.jsxs)("div",{className:"todoList",children:[(0,r.jsx)(a.Zb,{children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m()},className:"w-full lg:w-4/5 mx-auto",children:[(0,r.jsx)(a.oi,{id:"searchBar",value:t,type:"text",placeholder:"Search for a task",onChange:function(e){o(e.currentTarget.value)},required:!0}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,r.jsx)(a.zx,{type:"submit",className:"grow",children:"Search"}),(0,r.jsx)(a.zx,{onClick:function(){h(void 0)},className:"grow",children:"Reset filter"})]})]})}),(0,r.jsxs)(a.iA,{hoverable:!0,children:[(0,r.jsxs)(a.iA.Head,{children:[(0,r.jsx)(a.iA.HeadCell,{children:(0,r.jsx)("span",{className:"sr-only",children:"Done"})}),(0,r.jsx)(a.iA.HeadCell,{children:"Task"}),(0,r.jsx)(a.iA.HeadCell,{children:"Date"}),(0,r.jsx)(a.iA.HeadCell,{children:(0,r.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,r.jsx)(a.iA.HeadCell,{children:(0,r.jsx)("span",{className:"sr-only",children:"Delete"})})]}),(0,r.jsx)(a.iA.Body,{className:"divide-y",children:d?d.map(function(n,t){return(0,r.jsx)(f,{task:n,completeTask:e},t)}):x.data?x.data.map(function(n,t){return(0,r.jsx)(f,{task:n,completeTask:e},t)}):void 0})]})]})},x=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h,{})})}},3639:function(e,n,t){"use strict";t.d(n,{LM:function(){return l},p6:function(){return c},zO:function(){return o}});var r=t(381),i=t.n(r),s=t(8767),a=t(2491),l=function(e){return i()(e).format("DD MMMM YY")},c=function(e){return i()(e).format("yy-MM-DD")},o=function(){return(0,s.useQuery)("todoList",a.Jv)}}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=7833)}),_N_E=e.O()}]);