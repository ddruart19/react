(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{7833:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return t(7261)}])},7261:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(5893),r=t(7294),s=t(603),a=t(7014),c=t(2491),l=t(3639),o=t(1664),u=t.n(o),d=t(8767),h=function(e){var n=e.task;e.completeTask;var t=(0,s.Z)((0,r.useState)(n.completed),2);t[0],t[1];var o=(0,d.useQueryClient)(),h=(0,d.useMutation)(c._5,{onSuccess:function(){o.invalidateQueries("todoList")}}),f=(0,d.useMutation)(c.xJ,{onSuccess:function(){o.invalidateQueries("todoList")}}),x=function(){var e={id:n.id,name:n.name,completed:!n.completed,date:n.date};f.mutate(e)},m=function(e){window.confirm("Are you sure you want to delete "+e.name+"?")&&h.mutate(String(e.id))};return(0,i.jsxs)(a.iA.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[(0,i.jsx)(a.iA.Cell,{className:"!p-4",children:(0,i.jsx)("input",{type:"checkbox",checked:n.completed,onChange:function(e){x()}})}),(0,i.jsx)(a.iA.Cell,{children:n.name}),(0,i.jsx)(a.iA.Cell,{children:(0,l.LM)(n.date)}),(0,i.jsx)(a.iA.Cell,{children:(0,i.jsx)(u(),{href:"/edit/"+n.id,className:"font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Edit"})}),(0,i.jsx)(a.iA.Cell,{children:(0,i.jsx)(u(),{href:"",style:{color:"red"},className:"font-medium text-blue-600 hover:underline dark:text-blue-500",onClick:function(){return m(n)},children:"Delete"})})]})},f=function(){var e=function(e,n){},n=(0,s.Z)((0,r.useState)(""),2),t=n[0],o=n[1],u=(0,s.Z)((0,r.useState)(void 0),2),d=u[0],f=u[1],x=(0,l.zO)(),m=function(){(0,c.kY)(t).then(function(e){f(e)})};return"loading"===x.status?(0,i.jsx)("span",{children:"Loading..."}):"error"===x.status?(0,i.jsxs)("span",{children:["Error: ",x.error.message]}):(0,i.jsxs)("div",{className:"todoList",children:[(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m()},children:[(0,i.jsx)(a.oi,{id:"searchBar",value:t,type:"text",placeholder:"Search for a task",onChange:function(e){o(e.currentTarget.value)},required:!0}),(0,i.jsx)(a.zx,{type:"submit",children:"Search"}),(0,i.jsx)(a.zx,{onClick:function(){f(void 0)},children:"Reset filter"})]}),(0,i.jsxs)(a.iA,{hoverable:!0,children:[(0,i.jsxs)(a.iA.Head,{children:[(0,i.jsx)(a.iA.HeadCell,{children:(0,i.jsx)("span",{className:"sr-only",children:"Done"})}),(0,i.jsx)(a.iA.HeadCell,{children:"Task"}),(0,i.jsx)(a.iA.HeadCell,{children:"Date"}),(0,i.jsx)(a.iA.HeadCell,{children:(0,i.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,i.jsx)(a.iA.HeadCell,{children:(0,i.jsx)("span",{className:"sr-only",children:"Delete"})})]}),(0,i.jsx)(a.iA.Body,{className:"divide-y",children:d?d.map(function(n,t){return(0,i.jsx)(h,{task:n,completeTask:e},t)}):x.data?x.data.map(function(n,t){return(0,i.jsx)(h,{task:n,completeTask:e},t)}):void 0})]})]})},x=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f,{})})}},3639:function(e,n,t){"use strict";t.d(n,{LM:function(){return c},p6:function(){return l},zO:function(){return o}});var i=t(381),r=t.n(i),s=t(8767),a=t(2491),c=function(e){return r()(e).format("DD MMMM YY")},l=function(e){return r()(e).format("yy-MM-DD")},o=function(){return(0,s.useQuery)("todoList",a.Jv)}}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=7833)}),_N_E=e.O()}]);